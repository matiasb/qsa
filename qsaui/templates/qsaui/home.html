{% extends 'base.html' %}
{% load i18n %}
{% load humanize %}

{% block content-title %}Episodes from last night{% endblock %}

{% block inner-content %}

{% for episode in yesterday %}
    {% include "qsaui/_episode_entry.html" %}
{% empty %}
    <p>{% trans 'No episodes from last night.' %}</p>
{% endfor %}

<h3>{% trans 'Coming soon' %}</h3>
{% regroup coming_soon by first_aired as episodes_by_day %}
<ul class="list-group">
{% for episode_by_day in episodes_by_day %}
    <li class="list-group-item">
        <p class="badge">{{ episode_by_day.grouper|naturalday }}</p>
        {% for episode in episode_by_day.list %}
        {% include "qsaui/_episode_entry.html" %}
        {% endfor %}
    </li>
{% empty %}
    <p>{% trans 'No episodes coming soon.' %}</p>
{% endfor %}
</ul>

<h3>{% trans 'Last week' %}</h3>
{% regroup last_week by first_aired as episodes_by_day %}
<ul class="list-group">
{% for episode_by_day in episodes_by_day %}
    <li class="list-group-item">
        <p class="badge">{{ episode_by_day.grouper }}</p>
        {% for episode in episode_by_day.list %}
        <p><strong>{{ episode.series.name }}</strong><br/>
        {% include "qsaui/_episode_summary.html" %}
        </p>
        {% endfor %}
    </li>
{% empty %}
    <p>{% trans 'No episodes from last week.' %}</p>
{% endfor %}
</ul>

{% endblock inner-content %}
